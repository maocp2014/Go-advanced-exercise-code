http://lessisbetter.site/2019/06/09/golang-first-class-function/

区块链是构建在P2P网络之上，在P2P网络中：
1、一个节点即可以是服务器也可以是客户端，被称为Host
2、和本节点连接的所有节点都被称为Peer。

具体的场景是：Host需要保存所有建立连接的Peer，并对这些Peer进行维护：增加和删除Peer，
并且提供Peer的查询和向所有Peer广播消息的接口。

针对这个问题场景，我写了3个版本的Demo，我们依次来介绍，再看的时候，可以思考其中的不同。

3个版本的总结：
1、使用锁保护共享数据，使用锁进行通信来获取数据的使用权
2、使用channel传递数据，但存在瑕疵，没有实现GetPeer
3、使用channel传递函数，不能对peer进行同时读，不容易做单元测试

这3种方式本身并无优劣之分，具体要用那种实现，要依赖自身的实际场景进行取舍。